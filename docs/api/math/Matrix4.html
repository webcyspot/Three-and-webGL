<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<base href="../../" />
		<script src="list.js"></script>
		<script src="page.js"></script>
		<link type="text/css" rel="stylesheet" href="page.css" />
	</head>
	<body>
		<h1>[name]</h1>

		<div class="desc">A class representing a 4x4 [link:https://en.wikipedia.org/wiki/Matrix_(mathematics) matrix].</div>


		<h2>Example</h2>

		<code>
var m = new Matrix4();
		</code>

		<h2>A Note on Row-Major and Column-Major Ordering</h2>
		<div>
			The [page:set]() method takes arguments in [link:https://en.wikipedia.org/wiki/Row-_and_column-major_order#Column-major_order row-major]
			order, while internally they are stored in the [page:elements] array in column-major order.<br /><br />

			This means that calling
		<code>
m.set( 11, 12, 13, 14,
       21, 22, 23, 24,
       31, 32, 33, 34 );

		</code>
		will result in the elements array containing:
		<code>
m.elements = [ 11, 21, 31, 41,
               12, 22, 32, 42,
               13, 23, 33, 43 ];
		</code>
		and internally all calculations are performed using column-major ordering. However, as the actual ordering
		makes no difference mathematically and most people are used to thinking about matrices in row-major order,
		the rest of this document show matrices in row-major order. Just bear in mind that if you are reading the source
		code, you'll have to take the transpose of the matrices outlined here to make sense of the calculations.
		</div>


		<h2>Constructor</h2>


		<h3>[name]()</h3>

		<div>
			Creates and initializes the [name] to the 4x4
			[link:https://en.wikipedia.org/wiki/Identity_matrix identity matrix].
	</div>

		<h2>Properties</h2>

		<h3>[property:Float32Array elements]</h3>
		<div>
		A [link:https://en.wikipedia.org/wiki/Row-_and_column-major_order#Column-major_order column-major]
		 list of matrix values.
		</div>

		<h3>[property:Boolean isMatrix4]</h3>
		<div>
			Used to check whether this or derived classes are Matrix4s. Default is *true*.<br /><br />

			You should not change this, as it used internally for optimisation.
		</div>




		<h2>Methods</h2>

		<h3>[method:Array applyToBuffer]( [page:ArrayBuffer buffer], [page:Number offset], [page:Number length] )</h3>
		<div>
		[page:Array buffer] - An [link:https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer ArrayBuffer]
		of floats in the form [vector1x, vector1y, vector1z, vector2x, vector2y, vector2z, ...], that represent 3D vectors.<br />
		[page:Number offset] - (optional) index in the array of the first vector's x component. Default is 0.<br />
		[page:Number length] - (optional) index in the array of the last vector's z component.
		Default is the last element in the array.<br /><br />

		Multiplies (applies) the upper 3x3 matrix of this matrix to every 3D vector in the [page:ArrayBuffer buffer].
		</div>


		<h3>[method:Array applyToVector3Array]( [page:Array array], [page:Number offset], [page:Number length] )</h3>
		<div>
		[page:Array array] - An array of floats in the form [vector1x, vector1y, vector1z, vector2x, vector2y, vector2z, ...],
		that represent 3D vectors.<br />
		[page:Number offset] - (optional) index in the array of the first vector's x component. Default is 0.<br />
		[page:Number length] - (optional) index in the array of the last vector's z component.
		Default is the last element in the array.<br /><br />

		Multiplies (applies) the upper 3x3 matrix of this matrix to every 3D vector in the [page:Array array].
		</div>

		<h3>[method:Matrix4 clone]()</h3>
		<div>Creates a new Matrix4 and with identical elements to this one.</div>

		<h3>[method:Matrix4 compose]( [page:Vector3 position], [page:Quaternion quaternion], [page:Vector3 scale] )</h3>
		<div>
		Sets this matrix to the transformation composed of [page:Vector3 position],
		[page:Quaternion quaternion] and [page:Vector3 scale]. Internally this calls
		[page:.makeRotationFromQuaternion makeRotationFromQuaternion]( [page:Quaternion quaternion] )
		followed by [page:.scale scale]( [page:Vector3 scale] ), then finally
		[page:.setPosition setPosition]( [page:Vector3 position] ).
		</div>

		<h3>[method:Matrix4 copy]( [page:Matrix4 m] )</h3>
		<div>Copies the elements of matrix [page:Matrix4 m] into this matrix.</div>

		<h3>[method:Matrix4 copyPosition]( [page:Matrix4 m] )</h3>
		<div>
		Copies the translation component of the supplied matrix [page:Matrix4 m] into this
		matrix's translation component.
		</div>

		<h3>[method:null decompose]( [page:Vector3 position], [page:Quaternion quaternion], [page:Vector3 scale] )</h3>
		<div>
		Decomposes this matrix into it's [page:Vector3 position], [page:Quaternion quaternion] and
		[page:Vector3 scale] components.
		</div>

		<h3>[method:Float determinant]()</h3>
		<h3>[method:Float determinant]()</h3>
		<div>
		Computes and returns the
		[link:https://en.wikipedia.org/wiki/Determinant determinant] of this matrix.<br /><br />

		Based on [link:http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm]
		</div>

		<h3>[method:Boolean equals]( [page:Matrix4 m] )</h3>
		<div>Return true if this and [page:Matrix4 m] are equal.</div>

		<h3>[method:Matrix4 extractBasis]( [page:Vector3 xAxis], [page:Vector3 yAxis], [page:Vector3 zAxis] )</h3>
		<div>
		Extracts the [link:https://en.wikipedia.org/wiki/Basis_(linear_algebra) basis] of this
		matrix into the three axis vectors provided.
		</div>

		<h3>[method:Matrix4 extractRotation]( [page:Matrix4 m] )</h3>
		<div>
		Extracts the rotation component of the supplied matrix [page:Matrix4 m] into this matrix's
		rotation component.
		</div>

		<h3>[method:Matrix4 fromArray]( [page:Array array], [page:Integer offset] )</h3>
		<div>
		[page:Array array] - the array to read the elements from.<br />
		[page:Integer offset] - ( optional ) offset into the array. Default is 0.<br /><br />

		Sets the elements of this matrix based on an [page:Array array] in
		[link:https://en.wikipedia.org/wiki/Row-_and_column-major_order#Column-major_order column-major] format.
		</div>

		<h3>[method:Matrix4 getInverse]( [page:Matrix4 m], [page:Boolean throwOnDegenerate] )</h3>
		<div>
		[page:Matrix4 m] - the matrix to take the inverse of.<br />
		[page:Boolean throwOnDegenerate] - (optional) If true, throw an error if the matrix is degenerate (not invertible).<br /><br />

		Set this matrix to the [link:https://en.wikipedia.org/wiki/Invertible_matrix inverse] of the passed matrix [page:Matrix4 m],
		using the method outlined [link:http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm here].

		If [page:Boolean throwOnDegenerate] is not set and the matrix is invertible, set this to the 4x4 identity matrix.
		</div>


		<h3>[method:Float getMaxScaleOnAxis]()</h3>
		<div>Gets the maximum scale value of the 3 axes.</div>

		<h3>[method:Matrix4 identity]()</h3>
		<div>Resets this matrix to [link:https://en.wikipedia.org/wiki/Identity_matrix identity matrix].</div>

		<h3>[method:Matrix4 lookAt]( [page:Vector3 eye], [page:Vector3 center], [page:Vector3 up], )</h3>
		<div>
			Constructs a rotation matrix, looking from [page:Vector3 eye] towards [page:Vector3 center]
			oriented by the [page:Vector3 up] vector.
		</div>

		<h3>[method:Matrix4 makeRotationAxis]( [page:Vector3 axis], [page:Float theta] )</h3>
		<div>
		[page:Vector3 axis] — Rotation axis, should be normalized.<br />
		[page:Float theta] — Rotation angle in radians.<br /><br />

		Sets this matrix as rotation transform around [page:Vector3 axis] by [page:Float theta] radians.<br />

		This is a somewhat controversial but mathematically sound alternative to rotating via [page:Quaternions].
		[link:http://www.gamedev.net/reference/articles/article1199.asp].
		</div>

		<h3>[method:Matrix4 makeBasis]( [page:Vector3 xAxis], [page:Vector3 yAxis], [page:Vector3 zAxis] )</h3>
		<div>
		Creates the [link:https://en.wikipedia.org/wiki/Basis_(linear_algebra) basis] matrix consisting
		of the three provided basis vectors.
		</div>

		<h3>[method:Matrix4 makeFrustum]( [page:Float left], [page:Float right], [page:Float bottom], [page:Float top], [page:Float near], [page:Float far] )</h3>
		<div>
			Creates a matrix representing a [link:https://en.wikipedia.org/wiki/Frustum frustum].
			This is used internally by [page:PerspectiveCamera.updateProjectionMatrix]()
		</div>

		<h3>[method:Matrix4 makeOrthographic]( [page:Float left], [page:Float right], [page:Float top], [page:Float bottom], [page:Float near], [page:Float far] )</h3>
		<div>
		Creates an [link:https://en.wikipedia.org/wiki/Orthographic_projection orthographic projection] matrix.
		This is used internally by [page:OrthographicCamera.updateProjectionMatrix]().
		</div>

		<h3>[method:Matrix4 makePerspective]( [page:Float fov], [page:Float aspect], [page:Float near], [page:Float far] )</h3>
		<div>
		Creates a [link:https://en.wikipedia.org/wiki/3D_projection#Perspective_projection perspective projection] matrix.

		</div>

		<h3>[method:Matrix4 makeRotationFromEuler]( [page:Euler euler] )</h3>
		<div>
		Sets the rotation component of this matrix to the rotation specified by the given [page:Euler Euler Angle].
		The rest of the matrix is set to the identity.
		</div>

		<h3>[method:Matrix4 makeRotationFromQuaternion]( [page:Quaternion q] )</h3>
		<div>
		Sets the rotation component of this matrix to the rotation specified by [page:Quaternion q].
		The rest of the matrix is set to the identity.
		</div>

		<h3>[method:Matrix4 makeRotationX]( [page:Float theta] )</h3>
		<div>
		[page:Float theta] — Rotation angle in radians.<br /><br />

		Sets this matrix as a rotational transformation around the X axis by [page:Float theta] (&theta;) radians.
		The resulting matrix will be:
		<code>
1 0      0        0
0 cos(&theta;) -sin(&theta;)  0
0 sin(&theta;) cos(&theta;)   0
0 0      0        1
		</code>
		</div>

		<h3>[method:Matrix4 makeRotationY]( [page:Float theta] )</h3>
		<div>
		[page:Float theta] — Rotation angle in radians.<br /><br />

		Sets this matrix as a rotational transformation around the Y axis by [page:Float theta] (&theta;) radians.
		The resulting matrix will be:
		<code>
cos(&theta;)  0 sin(&theta;) 0
0       1 0      0
-sin(&theta;) 0 cos(&theta;) 0
0       0 0      1
		</code>
		</div>

		<h3>[method:Matrix4 makeRotationZ]( [page:Float theta] )</h3>
		<div>
		[page:Float theta] — Rotation angle in radians.<br /><br />

		Sets this matrix as a rotational transformation around the Z axis by [page:Float theta] (&theta;) radians.
		The resulting matrix will be:
		<code>
cos(&theta;) -sin(&theta;) 0 0
sin(&theta;) cos(&theta;)  0 0
0      0       1 0
0      0       0 1
		</code>
		</div>

		<h3>[method:Matrix4 makeScale]( [page:Float x], [page:Float y], [page:Float z] )</h3>
		<div>
			[page:Float x] - the amount to scale in the X axis.<br />
			[page:Float y] - the amount to scale in the Y axis.<br />
			[page:Float z] - the amount to scale in the Z axis.<br /><br />

			Sets this matrix as scale transform:
			<code>
x, 0, 0, 0,
0, y, 0, 0,
0, 0, z, 0,
0, 0, 0, 1
			</code>
		</div>

		<h3>[method:Matrix4 makeShear]( [page:Float x], [page:Float y], [page:Float z] )</h3>
		<div>
		[page:Float x] - the amount to shear in the X axis.<br />
		[page:Float y] - the amount to shear in the Y axis.<br />
		[page:Float z] - the amount to shear in the Z axis.<br /><br />

		Sets this matrix as a shear transform:
<code>
1, y, z, 0,
x, 1, z, 0,
x, y, 1, 0,
0, 0, 0, 1
</code>
		</div>

		<h3>[method:Matrix4 makeTranslation]( [page:Float x], [page:Float y], [page:Float z] )</h3>
		<div>
			[page:Float x] - the amount to translate in the X axis.<br />
			[page:Float y] - the amount to translate in the Y axis.<br />
			[page:Float z] - the amount to translate in the Z axis.<br /><br />

		Sets this matrix as a translation transform:
		<code>
1, 0, 0, x,
0, 1, 0, y,
0, 0, 1, z,
0, 0, 0, 1
		</code>
		</div>

		<h3>[method:Matrix4 multiply]( [page:Matrix4 m] )</h3>
		<div>Post-multiplies this matrix by [page:Matrix4 m].</div>

		<h3>[method:Matrix4 multiplyMatrices]( [page:Matrix4 a], [page:Matrix4 b] )</h3>
		<div>Sets this matrix to [page:Matrix4 a] x [page:Matrix4 b].</div>

		<h3>[method:Matrix4 multiplyScalar]( [page:Float s] )</h3>
		<div>Multiplies every component of the matrix by a scalar value [page:Float s].</div>

		<h3>[method:Matrix4 multiplyToArray]( [page:Matrix4 a], [page:Matrix4 b], [page:Array r] )</h3>
		<div>
		Sets this matrix to [page:Matrix4 a] x [page:Matrix4 b] and stores the result into the flat array [page:Array r],
		in [link:https://en.wikipedia.org/wiki/Row-_and_column-major_order#Column-major_order column-major] order.

		[page:Array r] can be either a regular Array or a [link:https://developer.mozilla.org/en-US/docs/Web/JavaScript/Typed_arrays TypedArray].
		</div>

		<h3>[method:Matrix4 premultiply]( [page:Matrix4 m] )</h3>
		<div>Pre-multiplies this matrix by [page:Matrix4 m].</div>

		<h3>[method:Matrix4 scale]( [page:Vector3 v] )</h3>
		<div>Multiplies the columns of this matrix by vector [page:Vector3 v].</div>

		<h3>[method:Matrix4 set](
			[page:Float n11], [page:Float n12], [page:Float n13], [page:Float n14],
			[page:Float n21], [page:Float n22], [page:Float n23], [page:Float n24],
			[page:Float n31], [page:Float n32], [page:Float n33], [page:Float n34],
			[page:Float n41], [page:Float n42], [page:Float n43], [page:Float n44] )</h3>
		<div>
			Set the [page:.elements elements] of this matrix to the supplied row-major values [page:Float n11],
			[page:Float n12], ... [page:Float n44].
		</div>

		<h3>[method:Matrix4 setPosition]( [page:Vector3 v] )</h3>
		<div>
			Sets the position component for this matrix from vector [page:Vector3 v], without affecting the
			rest of the matrix - i.e. if the matrix is currently:
<code>
a, b, c, d,
e, f, g, h,
i, j, k, l,
m, n, o, p
</code>
This becomes:
<code>
a, b, c, v.x,
e, f, g, v.y,
i, j, k, v.z,
m, n, o, p
</code>
		</div>

		<h3>[method:Array toArray]( [page:Array array], [page:Integer offset] )</h3>
		<div>
		[page:Array array] - (optional) array to store the resulting vector in.<br />
		[page:Integer offset] - (optional) offset in the array at which to put the result.<br /><br />

		Writes the elements of this matrix to an array in
		[link:https://en.wikipedia.org/wiki/Row-_and_column-major_order#Column-major_order column-major] format.
		</div>

		<h3>[method:Matrix4 transpose]()</h3>
		<div>[link:https://en.wikipedia.org/wiki/Transpose Transposes] this matrix.</div>

		<h2>Source</h2>

		[link:https://github.com/mrdoob/three.js/blob/master/src/[path].js src/[path].js]
	</body>
</html>
